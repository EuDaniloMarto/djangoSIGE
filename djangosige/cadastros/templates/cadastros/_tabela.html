{% load djangosige %}

<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead>
      {% with current_order=request.GET.ordering %}
        <tr>
          <th scope="col">
            {% if current_order == 'pk' %}
              <a href="?{% querystring ordering='-pk' %}"># ▲</a>
            {% elif current_order == '-pk' %}
              <a href="?{% querystring ordering='pk' %}"># ▼</a>
            {% else %}
              <a href="?{% querystring ordering='pk' %}">#</a>
            {% endif %}
          </th>

          <th scope="col">
            {% if current_order == 'descricao' %}
              <a href="?{% querystring ordering='-descricao' %}">Descrição ▲</a>
            {% elif current_order == '-descricao' %}
              <a href="?{% querystring ordering='descricao' %}">Descrição ▼</a>
            {% else %}
              <a href="?{% querystring ordering='descricao' %}">Descrição</a>
            {% endif %}
          </th>

          <th scope="col" class="text-center text-nowrap">
            {% if current_order == 'tipo_pessoa' %}
              <a href="?{% querystring ordering='-tipo_pessoa' %}">Tipo de Pessoa ▲</a>
            {% elif current_order == '-tipo_pessoa' %}
              <a href="?{% querystring ordering='tipo_pessoa' %}">Tipo de Pessoa ▼</a>
            {% else %}
              <a href="?{% querystring ordering='tipo_pessoa' %}">Tipo de Pessoa</a>
            {% endif %}
          </th>

          <th scope="col" class="text-center text-nowrap">
            {% if current_order == 'e_cliente' %}
              <a href="?{% querystring ordering='-e_cliente' %}">Cliente ▲</a>
            {% elif current_order == '-e_cliente' %}
              <a href="?{% querystring ordering='e_cliente' %}">Cliente ▼</a>
            {% else %}
              <a href="?{% querystring ordering='-e_cliente' %}">Cliente</a>
            {% endif %}
          </th>

          <th scope="col" class="text-center text-nowrap">
            {% if current_order == 'e_fornecedor' %}
              <a href="?{% querystring ordering='-e_fornecedor' %}">Fornecedor ▲</a>
            {% elif current_order == '-e_fornecedor' %}
              <a href="?{% querystring ordering='e_fornecedor' %}">Fornecedor ▼</a>
            {% else %}
              <a href="?{% querystring ordering='-e_fornecedor' %}">Fornecedor</a>
            {% endif %}
          </th>

          <th scope="col" class="text-center text-nowrap">
            {% if current_order == 'e_transportadora' %}
              <a href="?{% querystring ordering='-e_transportadora' %}">Transportadora ▲</a>
            {% elif current_order == '-e_transportadora' %}
              <a href="?{% querystring ordering='e_transportadora' %}">Transportadora ▼</a>
            {% else %}
              <a href="?{% querystring ordering='-e_transportadora' %}">Transportadora</a>
            {% endif %}
          </th>

        </tr>
      {% endwith %}
    </thead>
    <tbody class="table-group-divider">
      {% for cadastro in cadastros %}
        <tr>
          <td>{{ cadastro.id }}</td>
          <td class="text-nowrap">
            <a
              href="{{ cadastro.get_absolute_url }}"
              class="
                {% if cadastro.esta_ativo %}link-body-emphasis{% else %}text-secondary{% endif %}
                link-offset-2 link-underline-opacity-25 link-underline-opacity-75-hover
              "
            >
              {{ cadastro.descricao }}
            </a>
          </td>
          <td class="text-center">{{ cadastro.get_tipo_pessoa_display }}</td>
          <td class="text-center">
            {% if cadastro.e_cliente %}
            <i class="bi bi-check text-success"></i>
            {% else %}
            <i class="bi bi-x text-danger"></i>
            {% endif %}
          </td>
          <td class="text-center">
            {% if cadastro.e_fornecedor %}
            <i class="bi bi-check text-success"></i>
            {% else %}
            <i class="bi bi-x text-danger"></i>
            {% endif %}
          </td>
          <td class="text-center">
            {% if cadastro.e_transportadora %}
            <i class="bi bi-check text-success"></i>
            {% else %}
            <i class="bi bi-x text-danger"></i>
            {% endif %}
          </td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="6">
            Nenhum cadastro encontrado.
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<section class="d-flex align-items-center justify-content-between">
  <div class="d-none d-md-block">
    {% contar_registros page_obj %}
  </div>
  {% paginacao page_obj %}
</section>
